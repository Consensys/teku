- name: BlobParameters#fulu
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/logic/versions/fulu/helpers/BlobParameters.java
  spec: |
    <spec dataclass="BlobParameters" fork="fulu" hash="a4575aa8">
    class BlobParameters:
        epoch: Epoch
        max_blobs_per_block: uint64
    </spec>

- name: BlobsBundle#deneb
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/BlobsBundle.java
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/builder/BlobsBundleSchema.java
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/builder/versions/deneb/BlobsBundleDeneb.java
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/builder/versions/deneb/BlobsBundleSchemaDeneb.java
  spec: |
    <spec dataclass="BlobsBundle" fork="deneb" hash="8d6e7be6">
    class BlobsBundle(object):
        commitments: List[KZGCommitment, MAX_BLOB_COMMITMENTS_PER_BLOCK]
        proofs: List[KZGProof, MAX_BLOB_COMMITMENTS_PER_BLOCK]
        blobs: List[Blob, MAX_BLOB_COMMITMENTS_PER_BLOCK]
    </spec>

- name: BlobsBundle#fulu
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/BlobsBundle.java
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/builder/BlobsBundleSchema.java
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/builder/versions/fulu/BlobsBundleFulu.java
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/builder/versions/fulu/BlobsBundleSchemaFulu.java
  spec: |
    <spec dataclass="BlobsBundle" fork="fulu" hash="e265362d">
    class BlobsBundle(object):
        commitments: List[KZGCommitment, MAX_BLOB_COMMITMENTS_PER_BLOCK]
        # [Modified in Fulu:EIP7594]
        proofs: List[KZGProof, FIELD_ELEMENTS_PER_EXT_BLOB * MAX_BLOB_COMMITMENTS_PER_BLOCK]
        blobs: List[Blob, MAX_BLOB_COMMITMENTS_PER_BLOCK]
    </spec>

- name: GetPayloadResponse#bellatrix
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/GetPayloadResponse.java
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/methods/EngineGetPayloadV1.java
  spec: |
    <spec dataclass="GetPayloadResponse" fork="bellatrix" hash="bc71e6e6">
    class GetPayloadResponse(object):
        execution_payload: ExecutionPayload
    </spec>

- name: GetPayloadResponse#capella
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/GetPayloadResponse.java
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/GetPayloadV2Response.java
  spec: |
    <spec dataclass="GetPayloadResponse" fork="capella" hash="5f10deae">
    class GetPayloadResponse(object):
        execution_payload: ExecutionPayload
        block_value: uint256
    </spec>

- name: GetPayloadResponse#deneb
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/GetPayloadResponse.java
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/GetPayloadV3Response.java
  spec: |
    <spec dataclass="GetPayloadResponse" fork="deneb" hash="95f3156d">
    class GetPayloadResponse(object):
        execution_payload: ExecutionPayload
        block_value: uint256
        # [New in Deneb:EIP4844]
        blobs_bundle: BlobsBundle
    </spec>

- name: GetPayloadResponse#electra
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/GetPayloadResponse.java
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/GetPayloadV4Response.java
  spec: |
    <spec dataclass="GetPayloadResponse" fork="electra" hash="7a57aa32">
    class GetPayloadResponse(object):
        execution_payload: ExecutionPayload
        block_value: uint256
        blobs_bundle: BlobsBundle
        # [New in Electra]
        execution_requests: Sequence[bytes]
    </spec>

- name: GetPayloadResponse#fulu
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/GetPayloadResponse.java
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/GetPayloadV5Response.java
  spec: |
    <spec dataclass="GetPayloadResponse" fork="fulu" hash="0fbc9ac9">
    class GetPayloadResponse(object):
        execution_payload: ExecutionPayload
        block_value: uint256
        # [Modified in Fulu:EIP7594]
        blobs_bundle: BlobsBundle
        execution_requests: Sequence[bytes]
    </spec>

- name: LatestMessage#phase0
  sources: []
  spec: |
    <spec dataclass="LatestMessage" fork="phase0" hash="44e832d0">
    @dataclass(eq=True, frozen=True)
    class LatestMessage(object):
        epoch: Epoch
        root: Root
    </spec>

- name: LatestMessage#gloas
  sources: []
  spec: |
    <spec dataclass="LatestMessage" fork="gloas" style="diff" hash="a0030894">
    --- phase0
    +++ gloas
    @@ -1,4 +1,5 @@
     @dataclass(eq=True, frozen=True)
     class LatestMessage(object):
    -    epoch: Epoch
    +    slot: Slot
         root: Root
    +    payload_present: boolean
    </spec>

- name: LightClientStore#altair
  sources: []
  spec: |
    <spec dataclass="LightClientStore" fork="altair" hash="24725cec">
    class LightClientStore(object):
        # Header that is finalized
        finalized_header: LightClientHeader
        # Sync committees corresponding to the finalized header
        current_sync_committee: SyncCommittee
        next_sync_committee: SyncCommittee
        # Best available header to switch finalized head to if we see nothing else
        best_valid_update: Optional[LightClientUpdate]
        # Most recent available reasonably-safe header
        optimistic_header: LightClientHeader
        # Max number of active participants in a sync committee (used to calculate safety threshold)
        previous_max_active_participants: uint64
        current_max_active_participants: uint64
    </spec>

- name: LightClientStore#capella
  sources: []
  spec: |
    <spec dataclass="LightClientStore" fork="capella" style="diff" hash="04b41062">

    </spec>

- name: NewPayloadRequest#bellatrix
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/NewPayloadRequest.java
  spec: |
    <spec dataclass="NewPayloadRequest" fork="bellatrix" hash="4d32e8c7">
    class NewPayloadRequest(object):
        execution_payload: ExecutionPayload
    </spec>

- name: NewPayloadRequest#deneb
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/NewPayloadRequest.java
  spec: |
    <spec dataclass="NewPayloadRequest" fork="deneb" hash="26cf2e26">
    class NewPayloadRequest(object):
        execution_payload: ExecutionPayload
        versioned_hashes: Sequence[VersionedHash]
        parent_beacon_block_root: Root
    </spec>

- name: NewPayloadRequest#electra
  sources:
    - file: ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/execution/NewPayloadRequest.java
  spec: |
    <spec dataclass="NewPayloadRequest" fork="electra" hash="b1f69cc9">
    class NewPayloadRequest(object):
        execution_payload: ExecutionPayload
        versioned_hashes: Sequence[VersionedHash]
        parent_beacon_block_root: Root
        # [New in Electra]
        execution_requests: ExecutionRequests
    </spec>

- name: OptimisticStore#bellatrix
  sources: []
  spec: |
    <spec dataclass="OptimisticStore" fork="bellatrix" hash="a2b2182c">
    class OptimisticStore(object):
        optimistic_roots: Set[Root]
        head_block_root: Root
        blocks: Dict[Root, BeaconBlock] = field(default_factory=dict)
        block_states: Dict[Root, BeaconState] = field(default_factory=dict)
    </spec>

- name: PayloadAttributes#bellatrix
  sources:
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/PayloadAttributesV1.java
  spec: |
    <spec dataclass="PayloadAttributes" fork="bellatrix" hash="8f6fc523">
    class PayloadAttributes(object):
        timestamp: uint64
        prev_randao: Bytes32
        suggested_fee_recipient: ExecutionAddress
    </spec>

- name: PayloadAttributes#capella
  sources:
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/PayloadAttributesV2.java
  spec: |
    <spec dataclass="PayloadAttributes" fork="capella" hash="f63ac439">
    class PayloadAttributes(object):
        timestamp: uint64
        prev_randao: Bytes32
        suggested_fee_recipient: ExecutionAddress
        # [New in Capella]
        withdrawals: Sequence[Withdrawal]
    </spec>

- name: PayloadAttributes#deneb
  sources:
    - file: ethereum/executionclient/src/main/java/tech/pegasys/teku/ethereum/executionclient/schema/PayloadAttributesV3.java
  spec: |
    <spec dataclass="PayloadAttributes" fork="deneb" hash="2beea525">
    class PayloadAttributes(object):
        timestamp: uint64
        prev_randao: Bytes32
        suggested_fee_recipient: ExecutionAddress
        withdrawals: Sequence[Withdrawal]
        # [New in Deneb:EIP4788]
        parent_beacon_block_root: Root
    </spec>

- name: Store#phase0
  sources: []
  spec: |
    <spec dataclass="Store" fork="phase0" hash="abe525d6">
    class Store(object):
        time: uint64
        genesis_time: uint64
        justified_checkpoint: Checkpoint
        finalized_checkpoint: Checkpoint
        unrealized_justified_checkpoint: Checkpoint
        unrealized_finalized_checkpoint: Checkpoint
        proposer_boost_root: Root
        equivocating_indices: Set[ValidatorIndex]
        blocks: Dict[Root, BeaconBlock] = field(default_factory=dict)
        block_states: Dict[Root, BeaconState] = field(default_factory=dict)
        block_timeliness: Dict[Root, boolean] = field(default_factory=dict)
        checkpoint_states: Dict[Checkpoint, BeaconState] = field(default_factory=dict)
        latest_messages: Dict[ValidatorIndex, LatestMessage] = field(default_factory=dict)
        unrealized_justifications: Dict[Root, Checkpoint] = field(default_factory=dict)
    </spec>

- name: Store#gloas
  sources: []
  spec: |
    <spec dataclass="Store" fork="gloas" style="diff" hash="4dbfec46">
    --- phase0
    +++ gloas
    @@ -9,7 +9,11 @@
         equivocating_indices: Set[ValidatorIndex]
         blocks: Dict[Root, BeaconBlock] = field(default_factory=dict)
         block_states: Dict[Root, BeaconState] = field(default_factory=dict)
    -    block_timeliness: Dict[Root, boolean] = field(default_factory=dict)
    +    block_timeliness: Dict[Root, Vector[boolean, NUM_BLOCK_TIMELINESS_DEADLINES]] = field(
    +        default_factory=dict
    +    )
         checkpoint_states: Dict[Checkpoint, BeaconState] = field(default_factory=dict)
         latest_messages: Dict[ValidatorIndex, LatestMessage] = field(default_factory=dict)
         unrealized_justifications: Dict[Root, Checkpoint] = field(default_factory=dict)
    +    execution_payload_states: Dict[Root, BeaconState] = field(default_factory=dict)
    +    ptc_vote: Dict[Root, Vector[boolean, PTC_SIZE]] = field(default_factory=dict)
    </spec>
